{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/antr9/Desktop/studypal-master/frontend/src/components/carousel/carousel.jsx\";\nimport React from 'react';\nimport { useState, useCallback } from 'react';\nimport { set } from 'mongoose';\n\nfunction Carousel(props) {\n  const [isDown, setDown] = useState(false);\n  const [startX, setX] = useState(null);\n  const [transLeftOffset, setLeftOffset] = useState(null);\n  const [dragSpeed, setDrag] = useState(props.dragSpeed);\n  const [cref, setCref] = useState(React.createRef()); //Helper\n\n  function giveMeIntValOf(el) {\n    // extracting 20 from translateX(20px) and converting it to integer with parsInt\n    return parseInt(el.replace('translateX(', '').replace('px)', ''), 10);\n  } // const handleSnap = useCallBack(\n  //     () =>\n  // )\n\n\n  function handleSnap() {\n    const {\n      _data,\n      itemWidth,\n      itemSideOffsets\n    } = props;\n    debugger;\n    const carousel = cref.current; // reset carousel\n\n    setDown(false);\n    debugger;\n    carousel.classList.remove('active'); //Threshold\n    // getting transvalue\n\n    debugger;\n    const tempThresholdOffset = giveMeIntValOf(carousel.firstChild.style.transform);\n    const end = _data.length * (itemWidth + 2 * itemSideOffsets) - 30 - carousel.offsetWidth;\n\n    if (tempThresholdOffset < 0 || tempThresholdOffset > end) {\n      setDown(false);\n      carousel.firstChild.style.cssText = `\n        transform: translateX(${tempThresholdOffset < 0 ? 0 : end}px);\n        transition: transform 0.5s cubic-bezier(.25,.72,.51,.96);\n      `;\n    }\n  }\n\n  function handleMouseDown(event) {\n    debugger;\n    const carousel = cref.current;\n    event.persist();\n    debugger;\n    carousel.classList.add('active');\n    debugger;\n\n    const _startX = event.pageX - carousel.offsetLeft;\n\n    const _transLeftOffset = giveMeIntValOf(carousel.firstChild.style.transform);\n\n    useEffect(() => {\n      setDown(true);\n      setX(_startX);\n      setLeftOffset(_transLeftOffset);\n    }, []); //Reset transition\n\n    debugger;\n    const x = event.pageX - carousel.offsetLeft;\n    const walk = (x - startX) * dragSpeed;\n    debugger;\n    carousel.firstChild.style.cssText = `\n        transform: translateX(${transLeftOffset + walk}px);\n        transition: transform 0.0s ease-in-out;\n      `;\n    debugger;\n  } // mouse Leave\n\n\n  function handleMouseLeave(e) {\n    debugger;\n    handleSnap();\n  } // mouse Up\n\n\n  function handleMouseUp(e) {\n    handleSnap();\n  } // mouse Move\n\n\n  function handleMouseMove(e) {\n    const carousel = cref.current;\n    if (!isDown) return;\n    e.preventDefault();\n    const x = e.pageX - carousel.offsetLeft;\n    const walk = (x - startX) * dragSpeed;\n    carousel.firstChild.style.transform = `translateX(${transLeftOffset + walk}px)`;\n  }\n\n  const {\n    _data,\n    itemWidth,\n    itemHeight,\n    itemSideOffsets\n  } = props;\n  const cWrapperStyle = {\n    width: `${_data.length * (itemWidth + 2 * itemSideOffsets)}px`,\n    height: `${itemHeight}px`\n  };\n  return React.createElement(\"div\", {\n    className: \"carousel\",\n    ref: cref,\n    onMouseDown: handleMouseDown,\n    onMouseLeave: handleMouseLeave,\n    onMouseUp: handleMouseUp,\n    onMouseMove: handleMouseMove,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"cWrapper\",\n    style: { ...cWrapperStyle,\n      transform: 'translateX(0px)'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, props.children));\n}\n\nexport default Carousel;","map":{"version":3,"sources":["/mnt/c/Users/antr9/Desktop/studypal-master/frontend/src/components/carousel/carousel.jsx"],"names":["React","useState","useCallback","set","Carousel","props","isDown","setDown","startX","setX","transLeftOffset","setLeftOffset","dragSpeed","setDrag","cref","setCref","createRef","giveMeIntValOf","el","parseInt","replace","handleSnap","_data","itemWidth","itemSideOffsets","carousel","current","classList","remove","tempThresholdOffset","firstChild","style","transform","end","length","offsetWidth","cssText","handleMouseDown","event","persist","add","_startX","pageX","offsetLeft","_transLeftOffset","useEffect","x","walk","handleMouseLeave","e","handleMouseUp","handleMouseMove","preventDefault","itemHeight","cWrapperStyle","width","height","children"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { useState, useCallback} from 'react';\r\nimport { set } from 'mongoose';\r\n\r\nfunction Carousel(props) {\r\n\r\n    const [isDown, setDown] = useState(false);\r\n    const [startX, setX] = useState(null);\r\n    const [transLeftOffset, setLeftOffset] = useState(null);\r\n    const [dragSpeed, setDrag] = useState(props.dragSpeed)\r\n    const [cref, setCref] = useState(React.createRef())\r\n\r\n\r\n    //Helper\r\n\r\n    function giveMeIntValOf(el) {\r\n        // extracting 20 from translateX(20px) and converting it to integer with parsInt\r\n        return parseInt(el.replace('translateX(', '').replace('px)', ''), 10)\r\n    } \r\n\r\n    // const handleSnap = useCallBack(\r\n    //     () =>\r\n    // )\r\n\r\n    \r\n    function handleSnap() {\r\n        const {_data, itemWidth, itemSideOffsets} = props;\r\n        debugger\r\n        const carousel = cref.current;\r\n\r\n        \r\n\r\n        // reset carousel\r\n        setDown(false);\r\n\r\n        debugger\r\n        carousel.classList.remove('active');\r\n\r\n        //Threshold\r\n        // getting transvalue\r\n\r\n        debugger\r\n        const tempThresholdOffset = giveMeIntValOf(carousel.firstChild.style.transform)\r\n        const end = _data.length * (itemWidth + (2 * itemSideOffsets)) - 30 - carousel.offsetWidth\r\n        \r\n        if (tempThresholdOffset < 0 || tempThresholdOffset > end) {\r\n            setDown(false);\r\n            carousel.firstChild.style.cssText = `\r\n        transform: translateX(${ tempThresholdOffset < 0 ? 0 : end}px);\r\n        transition: transform 0.5s cubic-bezier(.25,.72,.51,.96);\r\n      `;\r\n        }\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    function handleMouseDown(event) {\r\n        debugger\r\n        const carousel = cref.current;\r\n        event.persist()\r\n        debugger\r\n        carousel.classList.add('active');\r\n        debugger\r\n        const _startX = event.pageX - carousel.offsetLeft;\r\n        const _transLeftOffset = giveMeIntValOf(carousel.firstChild.style.transform)\r\n\r\n\r\n\r\n        useEffect( () => {\r\n            setDown(true);\r\n            setX(_startX);\r\n            setLeftOffset(_transLeftOffset);\r\n        }, [])\r\n\r\n\r\n\r\n        //Reset transition\r\n\r\n        debugger\r\n\r\n        const x = event.pageX - carousel.offsetLeft;\r\n        const walk = (x- startX) * dragSpeed;\r\n        debugger\r\n        carousel.firstChild.style.cssText = `\r\n        transform: translateX(${transLeftOffset + walk}px);\r\n        transition: transform 0.0s ease-in-out;\r\n      `;\r\n\r\n      debugger\r\n\r\n\r\n    }\r\n\r\n\r\n    // mouse Leave\r\n    function handleMouseLeave(e) {\r\n        debugger\r\n        handleSnap()\r\n    }\r\n\r\n\r\n    // mouse Up\r\n    function handleMouseUp(e){\r\n        handleSnap();\r\n    }\r\n\r\n\r\n    // mouse Move\r\n    function handleMouseMove (e){\r\n        const carousel = cref.current\r\n        if (!isDown) return\r\n        e.preventDefault()\r\n        const x = e.pageX - carousel.offsetLeft\r\n        const walk = (x - startX) * dragSpeed\r\n        carousel.firstChild.style.transform = `translateX(${transLeftOffset + walk}px)`;\r\n    }\r\n\r\n\r\n    const {\r\n        _data,\r\n        itemWidth,\r\n        itemHeight,\r\n        itemSideOffsets\r\n    } = props\r\n\r\n\r\n    const cWrapperStyle = {\r\n        width: `${_data.length * (itemWidth + (2 * itemSideOffsets))}px`,\r\n        height: `${itemHeight}px`\r\n    }\r\n    \r\n    return (\r\n        <div\r\n            className='carousel'\r\n            ref={cref}\r\n            onMouseDown={handleMouseDown}\r\n            onMouseLeave={handleMouseLeave}\r\n            onMouseUp={handleMouseUp}\r\n            onMouseMove={handleMouseMove}>\r\n            <div\r\n                className='cWrapper'\r\n                style={{\r\n                    ...cWrapperStyle,\r\n                    transform: 'translateX(0px)'\r\n                }}>\r\n                {props.children}\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\n\r\nexport default Carousel;"]},"metadata":{},"sourceType":"module"}