{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/antr9/Desktop/studypal-master/frontend/src/components/session/session_form.js\";\nimport React from 'react';\nimport { withRouter, Redirect, Link } from 'react-router-dom';\nimport './session_form.css';\n\nclass SessionForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      handle: '',\n      email: '',\n      password: '',\n      password2: '',\n      zipcode: '',\n      errors: {},\n      users: props.users\n    };\n    this.renderErrors = this.renderErrors.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.update = this.update.bind(this);\n    this.signup = this.signup.bind(this);\n    this.login = this.login.bind(this); // this.handleSubmitLogin = this.handleSubmitLogin.bind(this);\n    // this.handleSubmitSignup = this.handleSubmitSignup.bind(this);\n    // this.checkErrors = this.checkErrors.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    let user = {\n      email: this.state.email,\n      password: this.state.password,\n      handle: this.state.handle,\n      zipcode: this.state.zipcode\n    }; //checking if user registered successfully, then log them in\n\n    if (nextProps.signedIn === true) {\n      console.log(\"SUCCESS\");\n      this.props.logInNewUser(user).then(this.props.history.push(\"user\"));\n    } else if (nextProps.isAuthenticated === true) {\n      this.props.history.push(\"user\");\n    }\n\n    this.setState({\n      errors: nextProps.errors\n    });\n  }\n\n  componentDidMount() {\n    this.props.clearErrors();\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    let user = {\n      email: this.state.email,\n      handle: this.state.handle,\n      password: this.state.password,\n      password2: this.state.password2,\n      zipcode: this.state.zipcode\n    };\n\n    if (this.props.formType === \"Log in\") {\n      this.props.processForm(user); // .then(this.checkErrors());\n    } else {\n      this.props.processForm(user);\n    }\n  } // checkErrors(){\n  //   if(this.props.errors.length > 0){      \n  //     console.log(\"login errors, like no user with that email\");\n  //   }else if(this.props.errors.length === 0 ){\n  //     this.props.history.push('user');\n  //   }\n  // }\n  // handleSubmitSignup(e){\n  //     e.preventDefault();\n  //     let user = {\n  //         email: this.state.email,\n  //         handle: this.state.handle,\n  //         password: this.state.password,\n  //         password2: this.state.password2,\n  //         zipcode: this.state.zipcode\n  //     };\n  //     this.props.processForm(user);\n  // }\n  // handleSubmitLogin(e){\n  //     e.preventDefault();\n  //     let user = {\n  //         email: this.state.email,\n  //         password: this.state.password\n  //     };\n  //     this.props.processForm(user);   \n  // }\n\n\n  update(field) {\n    return e => this.setState({\n      [field]: e.currentTarget.value\n    });\n  }\n\n  renderErrors() {\n    if (this.props.errors) {\n      return Object.values(this.props.errors).map(err => React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, err));\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      });\n    }\n  }\n\n  login() {\n    return React.createElement(\"div\", {\n      className: \"signup-page-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"left-div-signup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"top-left\",\n      src: \"https://studypal-dev.s3-us-west-1.amazonaws.com/top-left.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"signup-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"signup-form-div\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"welcome-studypal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"Welcome Back\"), React.createElement(\"div\", {\n      className: \"create-account-login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"Login to your account\"), React.createElement(\"div\", {\n      className: \"form-input-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"form-labels\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"Email\", React.createElement(\"input\", {\n      className: \"input-box\",\n      type: \"text\",\n      value: this.state.email,\n      onChange: this.update(\"email\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"horizontal-line-session\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-input-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"form-labels\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"Password\", React.createElement(\"input\", {\n      className: \"input-box\",\n      type: \"password\",\n      value: this.state.password,\n      onChange: this.update(\"password\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"horizontal-line-session\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"errors\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, this.renderErrors())), React.createElement(\"div\", {\n      className: \"l-s-button-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"login-signup-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, this.props.formType))), React.createElement(\"div\", {\n      className: \"nevermind\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, \"Never mind, \", React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, \"just help me find a cafe.\"))));\n  }\n\n  signup() {\n    return React.createElement(\"div\", {\n      className: \"signup-page-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"signup-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"signup-form-div\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"welcome-studypal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, \"Welcome to StudyPal\"), React.createElement(\"div\", {\n      className: \"create-account-login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, \"Create a new account\"), React.createElement(\"div\", {\n      className: \"form-input-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"form-labels\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, \"Username\", React.createElement(\"input\", {\n      className: \"input-box\",\n      type: \"text\",\n      value: this.state.handle,\n      onChange: this.update(\"handle\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"horizontal-line-session\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-input-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"form-labels\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, \"Email\", React.createElement(\"input\", {\n      className: \"input-box\",\n      type: \"text\",\n      value: this.state.email,\n      onChange: this.update(\"email\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"horizontal-line-session\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-input-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"form-labels\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, \"Password\", React.createElement(\"input\", {\n      className: \"input-box\",\n      type: \"password\",\n      value: this.state.password,\n      onChange: this.update(\"password\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"horizontal-line-session\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-input-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"form-labels\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, \"Confirm Password\", React.createElement(\"input\", {\n      className: \"input-box\",\n      type: \"password\",\n      value: this.state.password2,\n      onChange: this.update(\"password2\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"horizontal-line-session\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-input-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"form-labels\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, \"Zipcode\", React.createElement(\"input\", {\n      className: \"input-box\",\n      type: \"zipcode\",\n      value: this.state.zipcode,\n      onChange: this.update(\"zipcode\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"horizontal-line-session\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"errors\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, this.renderErrors())), React.createElement(\"div\", {\n      className: \"l-s-button-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"login-signup-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }, this.props.formType))), React.createElement(\"div\", {\n      className: \"nevermind\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, \"Never mind, \", React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, \"just help me find a cafe.\"))), React.createElement(\"div\", {\n      className: \"right-div-signup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"top-right\",\n      src: \"https://studypal-dev.s3-us-west-1.amazonaws.com/top-right.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    })));\n  }\n\n  render() {\n    return this.props.formType === \"Log in\" ? this.login() : this.signup();\n  }\n\n}\n\n;\nexport default withRouter(SessionForm);","map":{"version":3,"sources":["/mnt/c/Users/antr9/Desktop/studypal-master/frontend/src/components/session/session_form.js"],"names":["React","withRouter","Redirect","Link","SessionForm","Component","constructor","props","state","handle","email","password","password2","zipcode","errors","users","renderErrors","bind","handleSubmit","update","signup","login","componentWillReceiveProps","nextProps","user","signedIn","console","log","logInNewUser","then","history","push","isAuthenticated","setState","componentDidMount","clearErrors","e","preventDefault","formType","processForm","field","currentTarget","value","Object","values","map","err","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {withRouter, Redirect, Link} from 'react-router-dom';\nimport './session_form.css'\n\nclass SessionForm extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            handle: '',\n            email: '',\n            password: '',\n            password2: '',\n            zipcode: '',\n            errors: {},\n            users: props.users\n        };\n        this.renderErrors = this.renderErrors.bind(this)\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.update = this.update.bind(this);\n        this.signup = this.signup.bind(this);\n        this.login =this.login.bind(this);\n        // this.handleSubmitLogin = this.handleSubmitLogin.bind(this);\n        // this.handleSubmitSignup = this.handleSubmitSignup.bind(this);\n        // this.checkErrors = this.checkErrors.bind(this);\n    }\n    \n    componentWillReceiveProps(nextProps){\n         \n        let user = {\n            email: this.state.email,\n            password: this.state.password,\n            handle: this.state.handle,\n            zipcode: this.state.zipcode\n        };\n        //checking if user registered successfully, then log them in\n        if(nextProps.signedIn === true){\n            console.log(\"SUCCESS\");\n            this.props.logInNewUser(user)\n                .then(this.props.history.push(\"user\"));\n       \n        }else if(nextProps.isAuthenticated ===true){\n          this.props.history.push(\"user\");\n        }\n        \n        this.setState({errors: nextProps.errors});\n    }\n\n    componentDidMount(){\n         \n            this.props.clearErrors(); \n        }\n        \n\n    handleSubmit(e){\n        e.preventDefault();\n        let user = {\n            email: this.state.email,\n            handle: this.state.handle,\n            password: this.state.password,\n            password2: this.state.password2,\n            zipcode: this.state.zipcode\n        };\n        if(this.props.formType===\"Log in\"){   \n            this.props.processForm(user);\n              // .then(this.checkErrors());\n        }else{\n            this.props.processForm(user);\n        }   \n    }\n\n    // checkErrors(){\n    //   if(this.props.errors.length > 0){      \n    //     console.log(\"login errors, like no user with that email\");\n    //   }else if(this.props.errors.length === 0 ){\n    //     this.props.history.push('user');\n    //   }\n    // }\n\n    // handleSubmitSignup(e){\n    //     e.preventDefault();\n    //     let user = {\n    //         email: this.state.email,\n    //         handle: this.state.handle,\n    //         password: this.state.password,\n    //         password2: this.state.password2,\n    //         zipcode: this.state.zipcode\n    //     };\n    //     this.props.processForm(user);\n    // }\n\n    // handleSubmitLogin(e){\n    //     e.preventDefault();\n    //     let user = {\n    //         email: this.state.email,\n    //         password: this.state.password\n    //     };\n    //     this.props.processForm(user);   \n    // }\n\n    update(field){\n        return e => this.setState({\n            [field]: e.currentTarget.value\n        })\n    }\n\n    renderErrors() {\n        if (this.props.errors){\n            return(\n                Object.values(this.props.errors).map((err) => (\n                    <li>\n                        {err}\n                    </li>\n                )\n            )\n        )          \n        }else{\n            return(\n                <div></div>\n            )\n        }\n        \n    }\n\n    login() {\n        return (\n          <div className=\"signup-page-div\">\n            <div className=\"left-div-signup\">\n              <img\n                className=\"top-left\"\n                src={\n                  \"https://studypal-dev.s3-us-west-1.amazonaws.com/top-left.png\"\n                }\n              />\n            </div>\n            <div className=\"signup-div\">\n              <form className=\"signup-form-div\" onSubmit={this.handleSubmit}>\n                <div className=\"welcome-studypal\">Welcome Back</div>\n                <div className=\"create-account-login\">\n                  Login to your account\n                </div>\n\n                <div className=\"form-input-div\">\n                  <label className=\"form-labels\">\n                    Email\n                    <input\n                      className=\"input-box\"\n                      type=\"text\"\n                      value={this.state.email}\n                      onChange={this.update(\"email\")}\n                    />\n                    <div className=\"horizontal-line-session\"></div>\n                  </label>\n                </div>\n                <div className=\"form-input-div\">\n                  <label className=\"form-labels\">\n                    Password\n                    <input\n                      className=\"input-box\"\n                      type=\"password\"\n                      value={this.state.password}\n                      onChange={this.update(\"password\")}\n                    />\n                    <div className=\"horizontal-line-session\"></div>\n                  </label>\n                </div>\n                <div className=\"errors\">\n                  <ul>{this.renderErrors()}</ul>\n                </div>\n                <div className=\"l-s-button-div\">\n                  <button className=\"login-signup-button\">\n                    {this.props.formType}\n                  </button>\n                </div>\n              </form>\n              <div className=\"nevermind\">\n                Never mind, <Link to=\"/\">just help me find a cafe.</Link>\n              </div>\n            </div>\n          </div>\n        );\n    }\n\n    signup() {\n        return (\n          <div className=\"signup-page-div\">\n            <div className=\"signup-div\">\n              <form className=\"signup-form-div\" onSubmit={this.handleSubmit}>\n                <div className=\"welcome-studypal\">Welcome to StudyPal</div>\n                <div className=\"create-account-login\">Create a new account</div>\n                <div className=\"form-input-div\">\n                  <label className=\"form-labels\">\n                    Username\n                    <input\n                      className=\"input-box\"\n                      type=\"text\"\n                      value={this.state.handle}\n                      onChange={this.update(\"handle\")}\n                    />\n                    <div className=\"horizontal-line-session\"></div>\n                  </label>\n                </div>\n                {/* <br /> */}\n                <div className=\"form-input-div\">\n                  <label className=\"form-labels\">\n                    Email\n                    <input\n                      className=\"input-box\"\n                      type=\"text\"\n                      value={this.state.email}\n                      onChange={this.update(\"email\")}\n                    />\n                    <div className=\"horizontal-line-session\"></div>\n                  </label>\n                </div>\n                {/* <br /> */}\n                <div className=\"form-input-div\">\n                  <label className=\"form-labels\">\n                    Password\n                    <input\n                      className=\"input-box\"\n                      type=\"password\"\n                      value={this.state.password}\n                      onChange={this.update(\"password\")}\n                    />\n                    <div className=\"horizontal-line-session\"></div>\n                  </label>\n                </div>\n                {/* <br /> */}\n                <div className=\"form-input-div\">\n                  <label className=\"form-labels\">\n                    Confirm Password\n                    <input\n                      className=\"input-box\"\n                      type=\"password\"\n                      value={this.state.password2}\n                      onChange={this.update(\"password2\")}\n                    />\n                    <div className=\"horizontal-line-session\"></div>\n                  </label>\n                </div>\n                {/* <br /> */}\n                <div className=\"form-input-div\">\n                  <label className=\"form-labels\">\n                    Zipcode\n                    <input\n                      className=\"input-box\"\n                      type=\"zipcode\"\n                      value={this.state.zipcode}\n                      onChange={this.update(\"zipcode\")}\n                    />\n                    <div className=\"horizontal-line-session\"></div>\n                  </label>\n                </div>\n                <div className=\"errors\">\n                  <ul>{this.renderErrors()}</ul>\n                </div>\n                <div className=\"l-s-button-div\">\n                  <button className=\"login-signup-button\">\n                    {this.props.formType}\n                  </button>\n                </div>\n              </form>\n              <div className=\"nevermind\">\n                Never mind, <Link to=\"/\">just help me find a cafe.</Link>\n              </div>\n            </div>\n\n            <div className=\"right-div-signup\">\n              <img\n                className=\"top-right\"\n                src={\n                  \"https://studypal-dev.s3-us-west-1.amazonaws.com/top-right.png\"\n                }\n              />\n            </div>\n          </div>\n        );\n    }\n\n    render() {\n         \n        return this.props.formType === \"Log in\" ? this.login() : this.signup()\n    }\n};\n\nexport default withRouter(SessionForm);\n"]},"metadata":{},"sourceType":"module"}