{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/antr9/Desktop/studypal-master/frontend/src/components/session/session_form.js\";\nimport React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport './session_form.css';\n\nclass SessionForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      handle: '',\n      email: '',\n      password: '',\n      password2: '',\n      zipcode: '',\n      errors: {},\n      users: props.users\n    };\n    this.renderErrors = this.renderErrors.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.update = this.update.bind(this);\n    this.signup = this.signup.bind(this);\n    this.login = this.login.bind(this); // this.handleSubmitLogin = this.handleSubmitLogin.bind(this);\n    // this.handleSubmitSignup = this.handleSubmitSignup.bind(this);\n    // this.checkErrors = this.checkErrors.bind(this);\n  }\n\n  componentWillUpdate(nextProps, nextState) {\n    let user = {\n      email: this.state.email,\n      password: this.state.password,\n      handle: this.state.handle,\n      zipcode: this.state.zipcode\n    }; //checking if user registered successfully, then log them in\n\n    if (nextProps.signedIn === true) {\n      //  ;\n      console.log(\"SUCCESS\");\n      this.props.logInNewUser(user).then(this.props.history.push(\"user\"));\n    } else if (nextProps.isAuthenticated === true) {\n      //  ;\n      this.props.history.push(\"user\");\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    let user = {\n      email: this.state.email,\n      password: this.state.password,\n      handle: this.state.handle,\n      zipcode: this.state.zipcode\n    }; //checking if user registered successfully, then log them in\n\n    if (nextProps.signedIn === true) {\n      //  ;\n      console.log(\"SUCCESS\");\n      this.props.logInNewUser(user).then(this.props.history.push(\"user\"));\n    } else if (nextProps.isAuthenticated === true) {\n      //  ;\n      this.props.history.push(\"/user\");\n    }\n\n    this.setState({\n      errors: nextProps.errors\n    });\n  }\n\n  componentDidMount() {\n    this.props.clearErrors();\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    let user = {\n      email: this.state.email,\n      handle: this.state.handle,\n      password: this.state.password,\n      password2: this.state.password2,\n      zipcode: this.state.zipcode\n    };\n\n    if (this.props.formType === \"Log in\") {\n      this.props.processForm(user); // .then(this.checkErrors());\n    } else {\n      this.props.processForm(user);\n    }\n  } // checkErrors(){\n  //   if(this.props.errors.length > 0){      \n  //     console.log(\"login errors, like no user with that email\");\n  //   }else if(this.props.errors.length === 0 ){\n  //     this.props.history.push('user');\n  //   }\n  // }\n  // handleSubmitSignup(e){\n  //     e.preventDefault();\n  //     let user = {\n  //         email: this.state.email,\n  //         handle: this.state.handle,\n  //         password: this.state.password,\n  //         password2: this.state.password2,\n  //         zipcode: this.state.zipcode\n  //     };\n  //     this.props.processForm(user);\n  // }\n  // handleSubmitLogin(e){\n  //     e.preventDefault();\n  //     let user = {\n  //         email: this.state.email,\n  //         password: this.state.password\n  //     };\n  //     this.props.processForm(user);   \n  // }\n\n\n  update(field) {\n    return e => this.setState({\n      [field]: e.currentTarget.value\n    });\n  }\n\n  renderErrors() {\n    if (this.props.errors) {\n      return Object.values(this.props.errors).map(err => React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, err));\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      });\n    }\n  }\n\n  login() {\n    return React.createElement(\"div\", {\n      className: \"signup-page-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"left-div-signup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"top-left\",\n      src: \"https://studypal-dev.s3-us-west-1.amazonaws.com/top-left.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"signup-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"signup-form-div\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"welcome-studypal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"Welcome Back\"), React.createElement(\"div\", {\n      className: \"create-account-login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, \"Login to your account\"), React.createElement(\"div\", {\n      className: \"form-input-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"form-labels\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, \"Email\", React.createElement(\"input\", {\n      className: \"input-box-email\",\n      type: \"text\",\n      value: this.state.email,\n      onChange: this.update(\"email\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"horizontal-line-session\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-input-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"form-labels\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, \"Password\", React.createElement(\"input\", {\n      className: \"input-box-password\",\n      type: \"password\",\n      value: this.state.password,\n      onChange: this.update(\"password\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"horizontal-line-session\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"errors\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"session-errors\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, this.renderErrors())), React.createElement(\"div\", {\n      className: \"l-s-button-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"login-signup-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, this.props.formType))), React.createElement(\"div\", {\n      className: \"nevermind\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, \"Never mind, \", React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, \"just help me find a cafe\"))));\n  }\n\n  signup() {\n    return React.createElement(\"div\", {\n      className: \"signup-page-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"signup-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"signup-form-div\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"welcome-studypal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, \"Welcome to StudyPal\"), React.createElement(\"div\", {\n      className: \"create-account-login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, \"Create a new account\"), React.createElement(\"div\", {\n      className: \"form-input-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"form-labels\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, \"Username\", React.createElement(\"input\", {\n      className: \"input-box-email\",\n      type: \"text\",\n      value: this.state.handle,\n      onChange: this.update(\"handle\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"horizontal-line-session\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-input-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"form-labels\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, \"Email\", React.createElement(\"input\", {\n      className: \"input-box-email\",\n      type: \"text\",\n      value: this.state.email,\n      onChange: this.update(\"email\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"horizontal-line-session\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-input-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"form-labels\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, \"Password\", React.createElement(\"input\", {\n      className: \"input-box-email\",\n      type: \"password\",\n      value: this.state.password,\n      onChange: this.update(\"password\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"horizontal-line-session\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-input-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"form-labels\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, \"Confirm Password\", React.createElement(\"input\", {\n      className: \"input-box-email\",\n      type: \"password\",\n      value: this.state.password2,\n      onChange: this.update(\"password2\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"horizontal-line-session\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-input-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"form-labels\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }, \"Zipcode\", React.createElement(\"input\", {\n      className: \"input-box-email\",\n      type: \"zipcode\",\n      value: this.state.zipcode,\n      onChange: this.update(\"zipcode\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"horizontal-line-session\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"errors\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"session-errors\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    }, this.renderErrors())), React.createElement(\"div\", {\n      className: \"l-s-button-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"login-signup-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, this.props.formType))), React.createElement(\"div\", {\n      className: \"nevermind\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    }, \"Never mind, \", React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }, \"just help me find a cafe.\"))), React.createElement(\"div\", {\n      className: \"right-div-signup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"top-right\",\n      src: \"https://studypal-dev.s3-us-west-1.amazonaws.com/top-right.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292\n      },\n      __self: this\n    })));\n  }\n\n  render() {\n    return this.props.formType === \"Log in\" ? this.login() : this.signup();\n  }\n\n}\n\n;\nexport default withRouter(SessionForm);","map":{"version":3,"sources":["/mnt/c/Users/antr9/Desktop/studypal-master/frontend/src/components/session/session_form.js"],"names":["React","withRouter","Link","SessionForm","Component","constructor","props","state","handle","email","password","password2","zipcode","errors","users","renderErrors","bind","handleSubmit","update","signup","login","componentWillUpdate","nextProps","nextState","user","signedIn","console","log","logInNewUser","then","history","push","isAuthenticated","componentWillReceiveProps","setState","componentDidMount","clearErrors","e","preventDefault","formType","processForm","field","currentTarget","value","Object","values","map","err","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {withRouter, Link} from 'react-router-dom';\nimport './session_form.css'\n\nclass SessionForm extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            handle: '',\n            email: '',\n            password: '',\n            password2: '',\n            zipcode: '',\n            errors: {},\n            users: props.users\n        };\n        this.renderErrors = this.renderErrors.bind(this)\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.update = this.update.bind(this);\n        this.signup = this.signup.bind(this);\n        this.login =this.login.bind(this);\n        // this.handleSubmitLogin = this.handleSubmitLogin.bind(this);\n        // this.handleSubmitSignup = this.handleSubmitSignup.bind(this);\n        // this.checkErrors = this.checkErrors.bind(this);\n    }\n    \n    componentWillUpdate(nextProps, nextState){\n      \n      let user = {\n        email: this.state.email,\n        password: this.state.password,\n        handle: this.state.handle,\n        zipcode: this.state.zipcode\n    };\n    //checking if user registered successfully, then log them in\n    if(nextProps.signedIn === true){\n        //  ;\n        console.log(\"SUCCESS\");\n        this.props.logInNewUser(user)\n            .then(this.props.history.push(\"user\"));\n   \n    }else if(nextProps.isAuthenticated ===true){\n      //  ;\n      this.props.history.push(\"user\");\n    }\n    \n    }\n\n    componentWillReceiveProps(nextProps){\n         \n        let user = {\n            email: this.state.email,\n            password: this.state.password,\n            handle: this.state.handle,\n            zipcode: this.state.zipcode\n        };\n        //checking if user registered successfully, then log them in\n        if(nextProps.signedIn === true){\n            //  ;\n            console.log(\"SUCCESS\");\n            this.props.logInNewUser(user)\n                .then(this.props.history.push(\"user\"));\n       \n        }else if(nextProps.isAuthenticated ===true){\n          //  ;\n          this.props.history.push(\"/user\");\n        }\n        \n        this.setState({errors: nextProps.errors});\n    }\n\n    componentDidMount(){\n            this.props.clearErrors(); \n      }\n        \n\n    handleSubmit(e){\n        e.preventDefault();\n        let user = {\n            email: this.state.email,\n            handle: this.state.handle,\n            password: this.state.password,\n            password2: this.state.password2,\n            zipcode: this.state.zipcode\n        };\n        if(this.props.formType===\"Log in\"){   \n            this.props.processForm(user);\n              // .then(this.checkErrors());\n        }else{\n            this.props.processForm(user);\n        }   \n    }\n\n    // checkErrors(){\n    //   if(this.props.errors.length > 0){      \n    //     console.log(\"login errors, like no user with that email\");\n    //   }else if(this.props.errors.length === 0 ){\n    //     this.props.history.push('user');\n    //   }\n    // }\n\n    // handleSubmitSignup(e){\n    //     e.preventDefault();\n    //     let user = {\n    //         email: this.state.email,\n    //         handle: this.state.handle,\n    //         password: this.state.password,\n    //         password2: this.state.password2,\n    //         zipcode: this.state.zipcode\n    //     };\n    //     this.props.processForm(user);\n    // }\n\n    // handleSubmitLogin(e){\n    //     e.preventDefault();\n    //     let user = {\n    //         email: this.state.email,\n    //         password: this.state.password\n    //     };\n    //     this.props.processForm(user);   \n    // }\n\n    update(field){\n        return e => this.setState({\n            [field]: e.currentTarget.value\n        })\n    }\n\n    renderErrors() {\n        if (this.props.errors){\n            return(\n                Object.values(this.props.errors).map((err) => (\n                    <li>\n                        {err}\n                    </li>\n                )\n            )\n        )          \n        }else{\n            return(\n                <div></div>\n            )\n        } \n    }\n\n    login() {\n        return (\n          <div className=\"signup-page-div\">\n            <div className=\"left-div-signup\">\n              <img\n                className=\"top-left\"\n                src={\n                  \"https://studypal-dev.s3-us-west-1.amazonaws.com/top-left.png\"\n                }\n              />\n            </div>\n            <div className=\"signup-div\">\n              <form className=\"signup-form-div\" onSubmit={this.handleSubmit}>\n                <div className=\"welcome-studypal\">Welcome Back</div>\n                <div className=\"create-account-login\">\n                  Login to your account\n                </div>\n\n                <div className=\"form-input-div\">\n                  <label className=\"form-labels\">\n                    Email\n                    <input\n                      className=\"input-box-email\"\n                      type=\"text\"\n                      value={this.state.email}\n                      onChange={this.update(\"email\")}\n                    />\n                    <div className=\"horizontal-line-session\"></div>\n                  </label>\n                </div>\n                <div className=\"form-input-div\">\n                  <label className=\"form-labels\">\n                    Password\n                    <input\n                      className=\"input-box-password\"\n                      type=\"password\"\n                      value={this.state.password}\n                      onChange={this.update(\"password\")}\n                    />\n                    <div className=\"horizontal-line-session\"></div>\n                  </label>\n                </div>\n                <div className=\"errors\">\n                  <ul className=\"session-errors\">{this.renderErrors()}</ul>\n                </div>\n                <div className=\"l-s-button-div\">\n                  <button className=\"login-signup-button\">\n                    {this.props.formType}\n                  </button>\n                </div>\n              </form>\n                <div className=\"nevermind\">\n                  Never mind, <Link to=\"/\">just help me find a cafe</Link>\n                </div>\n            </div>\n          </div>\n        );\n    }\n\n    signup() {\n        return (\n          <div className=\"signup-page-div\">\n            <div className=\"signup-div\">\n              <form className=\"signup-form-div\" onSubmit={this.handleSubmit}>\n                <div className=\"welcome-studypal\">Welcome to StudyPal</div>\n                <div className=\"create-account-login\">Create a new account</div>\n                <div className=\"form-input-div\">\n                  <label className=\"form-labels\">\n                    Username\n                    <input\n                      className=\"input-box-email\"\n                      type=\"text\"\n                      value={this.state.handle}\n                      onChange={this.update(\"handle\")}\n                    />\n                    <div className=\"horizontal-line-session\"></div>\n                  </label>\n                </div>\n                {/* <br /> */}\n                <div className=\"form-input-div\">\n                  <label className=\"form-labels\">\n                    Email\n                    <input\n                      className=\"input-box-email\"\n                      type=\"text\"\n                      value={this.state.email}\n                      onChange={this.update(\"email\")}\n                    />\n                    <div className=\"horizontal-line-session\"></div>\n                  </label>\n                </div>\n                {/* <br /> */}\n                <div className=\"form-input-div\">\n                  <label className=\"form-labels\">\n                    Password\n                    <input\n                      className=\"input-box-email\"\n                      type=\"password\"\n                      value={this.state.password}\n                      onChange={this.update(\"password\")}\n                    />\n                    <div className=\"horizontal-line-session\"></div>\n                  </label>\n                </div>\n                {/* <br /> */}\n                <div className=\"form-input-div\">\n                  <label className=\"form-labels\">\n                    Confirm Password\n                    <input\n                      className=\"input-box-email\"\n                      type=\"password\"\n                      value={this.state.password2}\n                      onChange={this.update(\"password2\")}\n                    />\n                    <div className=\"horizontal-line-session\"></div>\n                  </label>\n                </div>\n                {/* <br /> */}\n                <div className=\"form-input-div\">\n                  <label className=\"form-labels\">\n                    Zipcode\n                    <input\n                      className=\"input-box-email\"\n                      type=\"zipcode\"\n                      value={this.state.zipcode}\n                      onChange={this.update(\"zipcode\")}\n                    />\n                    <div className=\"horizontal-line-session\"></div>\n                  </label>\n                </div>\n                <div className=\"errors\">\n                  <ul className=\"session-errors\">{this.renderErrors()}</ul>\n                </div>\n                <div className=\"l-s-button-div\">\n                  <button className=\"login-signup-button\">\n                    {this.props.formType}\n                  </button>\n                </div>\n              </form>\n              <div className=\"nevermind\">\n                Never mind, <Link to=\"/\">just help me find a cafe.</Link>\n              </div>\n            </div>\n\n            <div className=\"right-div-signup\">\n              <img\n                className=\"top-right\"\n                src={\n                  \"https://studypal-dev.s3-us-west-1.amazonaws.com/top-right.png\"\n                }\n              />\n            </div>\n          </div>\n        );\n    }\n\n    render() {\n         \n        return this.props.formType === \"Log in\" ? this.login() : this.signup()\n    }\n};\n\nexport default withRouter(SessionForm);\n"]},"metadata":{},"sourceType":"module"}